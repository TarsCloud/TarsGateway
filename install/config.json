{
    "force": "true",
    "application": "Base",
    "server_name": "GatewayServer",
    "filename": "GatewayServer.conf",
    "level": 5,
    "set_area": "",
    "set_group": "",
    "set_name": "",
    "config": "<main>\n    #传到后面taf服务的http头, 多个头以,分隔\n    filterheaders = X-GUID|X-XUA|Host\n    # 是否打开通过主控发现代理，1打开， 0 关闭\n    auto_proxy=1\n    flow_report_obj=Base.GatewayServer.FlowControlObj\n    <base>\n        # tup 回包大小限制\n        rspsize=5242880\n        #tup_host 如果不配置，那么所有host开头的，且没有path或者path为 / ， 也判断为 tup 请求， 例如： prx.tup.whup.com|127.0.0.1|192.168.2.123\n        tup_host=\n        tup_path=/tup\n        json_path=/json\n        monitor_url=/monitor/monitor.html\n    </base>\n    <http_retcode>\n        # 定义哪些返回码做超时容错处理，哪些返回码做出错容灾处理\n        inactive=2|6\n        timeout=1|3\n    </http_retcode>\n\n    <http_router>\n        # 本机绑定host 来测试以下用例\n        # 192.168.2.131 x.tup.cn\n        # 192.168.2.131 x.tup.com\n        # 192.168.2.131 x1.tup.net\n        # 192.168.2.131 x.tuptest.com\n        # 192.168.2.131 f.tup.com \n        <station1>\n            server_name=127.0.0.1\n            location=/testhost/\n            proxy_pass=http://127.0.0.1:8999\n        </station1>\n        # <fullhost>\n        #     server_name=192.168.2.131\n        #     location=/testhost/\n        #     proxy_pass=http://127.0.0.1:8999/fullhost/\n        # </fullhost>\n        # <pre_host>\n        #     server_name=*.tup.com\n        #     location=/testhost/\n        #     proxy_pass=http://127.0.0.1:8999/prehost/\n        # </pre_host>\n        # <suf_host>\n        #     server_name=x.tup.*\n        #     location=/testhost/\n        #     proxy_pass=http://127.0.0.1:8999/sufhost/\n        # </suf_host>\n        # <reg_host>\n        #     server_name=~x[0-9].tup.net$\n        #     location=/testhost/\n        #     proxy_pass=http://127.0.0.1:8999/reghost/\n        # </reg_host>\n        # <default_host>\n        #     location=/testhost/\n        #     proxy_pass=http://127.0.0.1:8999/defaulthost/\n        # </default_host>\n        # <full_path>\n        #     server_name=f.tup.com \n        #     location== /fullpath/\n        #     proxy_pass=http://127.0.0.1:8999/full_path/\n        # </full_path>\n        # <startwith_path>\n        #     server_name=f.tup.com \n        #     location=^~ /startpath/\n        #     proxy_pass=http://127.0.0.1:8999/startwith_path/\n        # </startwith_path>\n        # <reg_path>\n        #     server_name=f.tup.com \n        #     location=~ /[0-9]regpath/\n        #     proxy_pass=http://127.0.0.1:8999\n        # </reg_path>\n        # <reg2_path>\n        #     server_name=f.tup.com \n        #     location=~* /[0-9]reg2PaTH/\n        #     proxy_pass=http://127.0.0.1:8999\n        # </reg2_path>\n        # # <notreg_path>\n        # #     server_name=f.tup.com \n        # #     location=!~ /notreg/\n        # #     proxy_pass=http://172.16.8.171:10008\n        # # </notreg_path>\n        # <comm_path>\n        #     server_name=f.tup.com \n        #     location=/commpath/\n        #     proxy_pass=http://127.0.0.1:8999/comm_path/\n        # </comm_path>\n        # <default_path>\n        #     server_name=f.tup.com \n        #     location=/\n        #     proxy_pass=http://127.0.0.1:8999/default_path/\n        # </default_path>\n        # <proxy_path>\n        #     server_name=f.tup.com \n        #     location=/proxypath/\n        #     proxy_pass=http://127.0.0.1:8999\n        # </proxy_path>\n        # <proxy2_path>\n        #     server_name=f.tup.com \n        #     location=/proxy2path/\n        #     proxy_pass=http://127.0.0.1:8999/\n        # </proxy2_path>\n    </http_router>\n\n    <proxy>\n        # servant = server_full_obj [| hash_type [| http header key] ]\n        # hash_type: 0, 轮训; 1: requestid, 2: http头, 3: client ip\n        # Hello=TestApp.HelloServer.HelloObj | 1\n        # Hello=TestApp.HelloServer.HelloObj | 2 | X-GUID\n        #Hello=TestApp.HelloServer.HelloObj | 3\n\n        hello = TestApp.HelloServer.HelloObj\n\n        <test>\n            v = Base.LoginServer.LoginObj\n            hello = Test.HelloServer.HelloObj@tcp -h 127.0.0.1 -p 22346 | 2 | X-GUID\n        </test>\n\n        <dogfood>\n            v = Base.LoginServer.LoginObj\n            hello = Test.HelloServer.HelloObj@tcp -h 127.0.0.1 -p 22346\n        </dogfood>\n    </proxy>\n\n\n    #http头:值, 转到proxy某个服务\n    <httpheader>\n        Q-gUID:344bfdf1afb146ffa68b2bd69a57f193 = test\n        Q-GUID:b7392a2d60604eac81892f6f9c0232f7 = test\n    </httpheader>\n\n    <db>\n        charset=utf8\n        dbhost =db_host\n        dbname =db_base\n        dbpass =db_pwd\n        dbport =db_port\n        dbuser =db_user\n    </db>\n</main>\n"
}